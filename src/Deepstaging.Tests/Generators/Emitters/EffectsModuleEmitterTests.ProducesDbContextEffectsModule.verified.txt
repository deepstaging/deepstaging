// <auto-generated/>
#nullable enable
using Deepstaging;
using System.Diagnostics;
using System.Linq.Expressions;
using LanguageExt;
using LanguageExt.Effects;
using Microsoft.EntityFrameworkCore;
using static LanguageExt.Prelude;

namespace TestApp;
public static partial class MyEffects
{
    public static partial class Database
    {
        public static readonly ActivitySource ActivitySource = new("TestApp.Database", "1.0.0");

        /// <summary>
        /// Saves all changes made in this context to the database asynchronously.
        /// </summary>
        public static Eff<RT, int> SaveChangesAsync<RT, RT>(CancellationToken token = default)
            where RT : IHasAppDbContext => liftEff<RT, int>(async rt => await rt.AppDbContext.SaveChangesAsync(token));
    }
}