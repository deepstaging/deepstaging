// <auto-generated/>
// SPDX-License-Identifier: RPL-1.5
// Copyright (c) Deepstaging contributors. All rights reserved.
// Licensed under the Reciprocal Public License 1.5 (RPL-1.5).
// See LICENSE file in the project root for full license information.
#nullable enable
using Deepstaging.EventQueue;
using LanguageExt;
using LanguageExt.Effects;

namespace TestApp;
/// <summary>
/// Event queue effect module for the 'DomainEvents' queue.
/// </summary>
public static partial class DomainEvents
{
    private static global::Deepstaging.EventQueue.EventQueueChannel<object>? _channel;
    internal static void Initialize(global::Deepstaging.EventQueue.EventQueueChannel<object> channel)
    {
        _channel = channel;
    }

    public static Eff<RT, Unit> Enqueue<RT>(object @event) => Eff<RT, Unit>.LiftIO(_ =>
    {
        _channel!.Enqueue(@event);
        return default;
    });
    public static Eff<RT, EventAcknowledgement> EnqueueWithAck<RT>(object @event) => Eff<RT, EventAcknowledgement>.LiftIO(_ => _channel!.EnqueueWithAck(@event));
    public static Eff<RT, Unit> EnqueueAndWait<RT>(object @event) => Eff<RT, Unit>.LiftIO(async _ =>
    {
        await _channel!.EnqueueAndWait(@event);
        return default;
    });
}